{% load tz %}
<div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">New Project</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form
            hx-post={% url "new_project" %}
            hx-target="#projects-table"
            hx-swap="outerHTML"
            data-bs-toggle="toast"
            data-bs-target="#projects-table">
            <div class="modal-body">
                {% csrf_token %}
                {% if organizations %}
                <div class="row g-3">
                    <div class="col">
                        <label for="id_organization" class="form-label">Organization:</label>
                        <select name="organization" id="id_organization" class="form-select">
                            <option value="">-----</option>
                            {% for organization in organizations %}
                            <option value="{{ organization.id }}">{{ organization.current.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                {% endif %}
                <div class="row g-3">
                    <div class="col">
                        <label for="id_name" class="form-label">Name:</label>
                        <input type="text" name="name" class="form-control" id="id_name" required>
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col">
                        <label for="id_description" class="form-label">Description:</label>
                        <textarea name="description" class="form-control" id="id_description">{{ project.current.description }}</textarea>
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col-md-3">
                        <label for="id_label" class="form-label">Label:</label>
                        <input type="text" name="label" class="form-control" id="id_label" required>
                    </div>
                    <div class="col-md-3">
                        <label for="id_is_active" class="form-label">Is active?</label>
                        <input type="checkbox" name="is_active" class="form-check-input mt-9" id="id_is_active" checked>
                    </div>
                    <div class="col-md-3">
                        <label for="id_is_private" class="form-label">Is private?</label>
                        <input type="checkbox" name="is_private" class="form-check-input mt-9" id="id_is_private">
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col-md-2">
                        {% now "n" as month_now%}
                        <label for="id_start_date_month" class="form-label">Start date:</label>
                        <select name="start_date_month" id="id_start_date_month" class="form-select">
                            <option value="">-----</option>
                            <option value="1" {% if month_now == "1" %}selected{% endif %}>January</option>
                            <option value="2" {% if month_now == "2" %}selected{% endif %}>February</option>
                            <option value="3" {% if month_now == "3" %}selected{% endif %}>March</option>
                            <option value="4" {% if month_now == "4" %}selected{% endif %}>April</option>
                            <option value="5" {% if month_now == "5" %}selected{% endif %}>May</option>
                            <option value="6" {% if month_now == "6" %}selected{% endif %}>June</option>
                            <option value="7" {% if month_now == "7" %}selected{% endif %}>July</option>
                            <option value="8" {% if month_now == "8" %}selected{% endif %}>August</option>
                            <option value="9" {% if month_now == "9" %}selected{% endif %}>September</option>
                            <option value="10" {% if month_now == "10" %}selected{% endif %}>October</option>
                            <option value="11" {% if month_now == "11" %}selected{% endif %}>November</option>
                            <option value="12" {% if month_now == "12" %}selected{% endif %}>December</option>
                        </select>
                    </div>
                    <div class="col-md-1">
                        {% now "j" as day_now %}
                        <label for="id_start_date_day" class="form-label">&nbsp;</label>
                        <select name="start_date_day" id="id_start_date_day" class="form-select">
                            <option value="">-----</option>
                            <option value="1" {% if day_now == "1" %}selected{% endif %}>1</option>
                            <option value="2" {% if day_now == "2" %}selected{% endif %}>2</option>
                            <option value="3" {% if day_now == "3" %}selected{% endif %}>3</option>
                            <option value="4" {% if day_now == "4" %}selected{% endif %}>4</option>
                            <option value="5" {% if day_now == "5" %}selected{% endif %}>5</option>
                            <option value="6" {% if day_now == "6" %}selected{% endif %}>6</option>
                            <option value="7" {% if day_now == "7" %}selected{% endif %}>7</option>
                            <option value="8" {% if day_now == "8" %}selected{% endif %}>8</option>
                            <option value="9" {% if day_now == "9" %}selected{% endif %}>9</option>
                            <option value="10" {% if day_now == "10" %}selected{% endif %}>10</option>
                            <option value="11" {% if day_now == "11" %}selected{% endif %}>11</option>
                            <option value="12" {% if day_now == "12" %}selected{% endif %}>12</option>
                            <option value="13" {% if day_now == "13" %}selected{% endif %}>13</option>
                            <option value="14" {% if day_now == "14" %}selected{% endif %}>14</option>
                            <option value="15" {% if day_now == "15" %}selected{% endif %}>15</option>
                            <option value="16" {% if day_now == "16" %}selected{% endif %}>16</option>
                            <option value="17" {% if day_now == "17" %}selected{% endif %}>17</option>
                            <option value="18" {% if day_now == "18" %}selected{% endif %}>18</option>
                            <option value="19" {% if day_now == "19" %}selected{% endif %}>19</option>
                            <option value="20" {% if day_now == "20" %}selected{% endif %}>20</option>
                            <option value="21" {% if day_now == "21" %}selected{% endif %}>21</option>
                            <option value="22" {% if day_now == "22" %}selected{% endif %}>22</option>
                            <option value="23" {% if day_now == "23" %}selected{% endif %}>23</option>
                            <option value="24" {% if day_now == "24" %}selected{% endif %}>24</option>
                            <option value="25" {% if day_now == "25" %}selected{% endif %}>25</option>
                            <option value="26" {% if day_now == "26" %}selected{% endif %}>26</option>
                            <option value="27" {% if day_now == "27" %}selected{% endif %}>27</option>
                            <option value="28" {% if day_now == "28" %}selected{% endif %}>28</option>
                            <option value="29" {% if day_now == "29" %}selected{% endif %}>29</option>
                            <option value="30" {% if day_now == "30" %}selected{% endif %}>30</option>
                            <option value="31" {% if day_now == "31" %}selected{% endif %}>31</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        {% now "Y" as year_now %}
                        <label for="id_start_date_year" class="form-label">&nbsp;</label>
                        <select name="start_date_year" id="id_start_date_year" class="form-select">
                            <option value="">-----</option>
                            <option value="2020" {% if year_now == "2020" %}selected{% endif %}>2020</option>
                            <option value="2021" {% if year_now == "2021" %}selected{% endif %}>2021</option>
                            <option value="2022" {% if year_now == "2022" %}selected{% endif %}>2022</option>
                            <option value="2023" {% if year_now == "2023" %}selected{% endif %}>2023</option>
                            <option value="2024" {% if year_now == "2024" %}selected{% endif %}>2024</option>
                            <option value="2025" {% if year_now == "2025" %}selected{% endif %}>2025</option>
                            <option value="2026" {% if year_now == "2026" %}selected{% endif %}>2026</option>
                            <option value="2027" {% if year_now == "2027" %}selected{% endif %}>2027</option>
                            <option value="2028" {% if year_now == "2028" %}selected{% endif %}>2028</option>
                            <option value="2029" {% if year_now == "2029" %}selected{% endif %}>2029</option>
                            <option value="2030" {% if year_now == "2030" %}selected{% endif %}>2030</option>
                            <option value="2031" {% if year_now == "2031" %}selected{% endif %}>2031</option>
                            <option value="2032" {% if year_now == "2032" %}selected{% endif %}>2032</option>
                            <option value="2033" {% if year_now == "2033" %}selected{% endif %}>2033</option>
                            <option value="2034" {% if year_now == "2034" %}selected{% endif %}>2034</option>
                            <option value="2035" {% if year_now == "2035" %}selected{% endif %}>2035</option>
                            <option value="2036" {% if year_now == "2036" %}selected{% endif %}>2036</option>
                            <option value="2037" {% if year_now == "2037" %}selected{% endif %}>2037</option>
                            <option value="2038" {% if year_now == "2038" %}selected{% endif %}>2038</option>
                            <option value="2039" {% if year_now == "2039" %}selected{% endif %}>2039</option>
                            <option value="2040" {% if year_now == "2040" %}selected{% endif %}>2040</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="id_end_date_month" class="form-label">End date:</label>
                        <select name="end_date_month" id="id_end_date_month" class="form-select">
                            <option value="">-----</option>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>
                    <div class="col-md-1">
                        <label for="id_end_date_day" class="form-label">&nbsp;</label>
                        <select name="end_date_day" id="id_end_date_day" class="form-select">
                            <option value="">-----</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="id_end_date_year" class="form-label">&nbsp;</label>
                        <select name="end_date_year" id="id_end_date_year" class="form-select">
                            <option value="">-----</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                            <option value="2026">2026</option>
                            <option value="2027">2027</option>
                            <option value="2028">2028</option>
                            <option value="2029">2029</option>
                            <option value="2030">2030</option>
                            <option value="2031">2031</option>
                            <option value="2032">2032</option>
                            <option value="2033">2033</option>
                            <option value="2034">2034</option>
                            <option value="2035">2035</option>
                            <option value="2036">2036</option>
                            <option value="2037">2037</option>
                            <option value="2038">2038</option>
                            <option value="2039">2039</option>
                            <option value="2040">2040</option>
                        </select>
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col">
                        <label for="id_git_repository" class="form-label">Git Repository:</label>
                        <select name="git_repository" id="id_git_repository" multiple class="form-select">
                            {% if repositories %}
                            {% for repository in repositories %}
                            <option value="{{ repository.id }}">{{ repository }}</option>
                            {% endfor %}
                            {% endif %}
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Submit</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            </div>
        </form>
    </div>
</div>
